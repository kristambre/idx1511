<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="template.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html">
	<ui:define name="content">
		<h:form>
			<h:commandButton action="#{catalogController.moveAllToCurrentFolder()}" value="Move all documents to current folder" />
			<h:commandButton action="#{catalogController.clearBuffer()}" value="Clear buffer!" />
		</h:form>
		<table border="1">
			<thead>
				<h:outputText value="Documents currently in buffer:" />
			</thead>
			<tr>
				<td bgcolor="#99999"><h:outputText value="Document name:" /></td>
				<td bgcolor="#99999"><h:outputText value="Document catalog:" /></td>
				<td bgcolor="#99999"><h:outputText value="" /></td>
			</tr>
			<ui:repeat var="doc" value="#{catalogController.buffer}">
				<tr>
					<td><h:outputText value="#{doc.name}" /></td>
					<td><h:outputText value="#{catalogController.getDocumentCatalogFor(doc.document)}" /></td>
					<td><h:form>
							<h:commandLink value="Remove from buffer" action="#{catalogController.removeFromBuffer(doc.document)}" />
						</h:form></td>
				</tr>
			</ui:repeat>
		</table>
	</ui:define>
</ui:composition>